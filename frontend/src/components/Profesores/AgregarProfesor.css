/* src/components/Alumnos/AgregarAlumno.css */

/* =========================================================
   Variables y base (PRIMARIO = GRAY 700)
   ========================================================= */
:root {
  /* Colores primarios GRAY */
  --primary-50:  #f8fafc;
  --primary-100: #f1f5f9;
  --primary-200: #e2e8f0;
  --primary-300: #cbd5e1;
  --primary-400: #94a3b8;
  --primary-500: #64748b;
  --primary-600: #475569;
  --primary-700: #334155; /* principal */
  --primary-800: #1e293b;
  --primary-900: #0f172a;
  --primary-950: #0a0f1a; /* ajuste profundo */

  /* Alias */
  --primary-color: var(--primary-700);
  --primary-hover: var(--primary-800);
  --primary-light: var(--primary-200);
  --primary-dark: var(--primary-900);
  --primary-accent: var(--primary-500);

  /* Complementarios (SECUNDARIO = AZUL para contraste) */
  --secondary-50:  #eff6ff;
  --secondary-100: #dbeafe;
  --secondary-200: #bfdbfe;
  --secondary-300: #93c5fd;
  --secondary-400: #60a5fa;
  --secondary-500: #3b82f6;
  --secondary-600: #2563eb;
  --secondary-700: #1d4ed8;
  --secondary-800: #1e40af;
  --secondary-900: #1e3a8a;

  --secondary-color: var(--secondary-500);
  --secondary-hover: var(--secondary-600);

  /* Estado */
  --success-50:  #ecfdf5;
  --success-100: #d1fae5;
  --success-200: #a7f3d0;
  --success-300: #6ee7b7;
  --success-400: #34d399;
  --success-500: #10b981;
  --success-600: #059669;
  --success-700: #047857;

  --warning-50:  #fffbeb;
  --warning-100: #fef3c7;
  --warning-200: #fde68a;
  --warning-300: #fcd34d;
  --warning-400: #fbbf24;
  --warning-500: #f59e0b;

  --danger-50:  #fef2f2;
  --danger-100: #fee2e2;
  --danger-200: #fecaca;
  --danger-300: #fca5a5;
  --danger-400: #f87171;
  --danger-500: #ef4444;
  --danger-600: #dc2626;

  /* Neutros / Superficies */
  --gray-50:  #f8fafc;
  --gray-100: #f1f5f9;
  --gray-200: #e2e8f0;
  --gray-300: #cbd5e1;
  --gray-400: #94a3b8;
  --gray-500: #64748b;
  --gray-600: #475569;
  --gray-700: #334155;
  --gray-800: #1e293b;
  --gray-900: #0f172a;

  --background-color: var(--gray-50);
  --surface-color: #ffffff;
  --surface-secondary: var(--gray-100);
  --border-color: var(--gray-200);
  --border-focus: var(--primary-500);
  --text-primary: var(--gray-900);
  --text-secondary: var(--gray-600);
  --text-muted: var(--gray-400);
  --text-on-primary: #ffffff;

  /* Gradientes */
  --gradient-primary: linear-gradient(135deg, var(--primary-500), var(--primary-700));
  --gradient-hero: linear-gradient(135deg, var(--primary-500) 0%, var(--primary-700) 50%, var(--primary-900) 100%);
  --gradient-background: linear-gradient(135deg, var(--gray-100) 30%, var(--primary-500) 70%);
  --gradient-accent: linear-gradient(90deg, var(--primary-500), var(--primary-700));

  /* Botones inferiores (si los necesitÃ¡s en otra vista) */
  --btn-agregar-alumno: #3D4D55;
  --btn-exportar-excel: #A79E9C;
  --btn-dados-baja:     #B58863;

  /* Sombras */
  --shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.05);
  --shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
  --shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
  --shadow-xl: 0 20px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1);

  /* Radios / Spacings / Transiciones */
  --border-radius: 8px;
  --border-radius-sm: 4px;
  --border-radius-md: 6px;
  --border-radius-lg: 12px;
  --border-radius-xl: 16px;
  --border-radius-full: 9999px;

  --spacing-xs: 0.25rem;
  --spacing-sm: 0.5rem;
  --spacing-md: 1rem;
  --spacing-lg: 1.5rem;
  --spacing-xl: 2rem;

  --transition-fast: 0.2s cubic-bezier(0.4, 0, 0.2, 1);
  --transition-normal: 0.35s cubic-bezier(0.4, 0, 0.2, 1);
  --transition-smooth: all 0.25s cubic-bezier(0.4, 0, 0.2, 1);

  /* Cascada */
  --cascade-stagger: 50ms;
  --cascade-duration: .45s;
  --cascade-ease: cubic-bezier(.2,.7,.2,1);

  /* Safe areas */
  --safe-top: env(safe-area-inset-top, 0px);
  --safe-bottom: env(safe-area-inset-bottom, 0px);
  --safe-left: env(safe-area-inset-left, 0px);
  --safe-right: env(safe-area-inset-right, 0px);
}

/* ==============================
   Contenedor y caja
============================== */
.add-alumno-container {
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  width: 100%;
  height: 100vh;
  box-sizing: border-box;
  background:    linear-gradient(
    135deg,
    #ffebee 30%,   /* gris suave */
    var(--reg-primary) 70%     /* rojo principal */
  );

  box-shadow: var(--shadow-xl);
  overflow: hidden;
}

.add-alumno-box {
  position: relative;
  width: 90%;
  height: 90vh;
  background: var(--surface-color);
  border-radius: var(--border-radius-lg);
  box-sizing: border-box;
  display: flex;
  flex-direction: column;
  color: var(--text-primary);
  box-shadow: 0 12px 30px -12px rgba(15, 23, 42, 0.15);
}

/* ==============================
   Header
============================== */
.add-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 1.2rem 2rem 1rem;
  background: var(--gradient-primary);
  color: var(--text-on-primary);
  border-radius: var(--border-radius-lg) var(--border-radius-lg) 0 0;
}

.add-icon-title {
  display: flex;
  align-items: center;
  gap: .75rem;
}

.add-icon { font-size: 1.75rem; }
.add-icon-title h1 { margin: 0; font-weight: 700; }
.add-icon-title p { margin: 0; opacity: .95; }

.add-back-btn {
  display: inline-flex;
  align-items: center;
  gap: .5rem;
  padding: .5rem 1rem;
  border-radius: var(--border-radius);
  background: rgb(255 255 255 / 0.12);
  border: 1px solid rgb(255 255 255 / 0.25);
  color: var(--text-on-primary);
  cursor: pointer;
  transition: var(--transition-smooth);
}
.add-back-btn:hover { background: rgb(255 255 255 / 0.22); }

/* ==============================
   Form base
============================== */
.add-alumno-form {
  flex: 1;
  display: flex;
  flex-direction: column;
  overflow-y: hidden;
  padding: .25rem 1rem 0;
}

.add-alumno-section {
  height: 60vh;
  padding: 1rem;
  border-radius: var(--border-radius-lg);
  transition: var(--transition-smooth);
  background: transparent;
}

.add-alumno-section-title {
  font-size: 1.1rem;
  font-weight: 700;
  color: var(--primary-color);
  margin-bottom: 1rem;
  padding-bottom: .5rem;
  border-bottom: 2px solid rgb(0 0 0 / 0.06);
}

.add-alumno-section-content {
  display: flex;
  flex-direction: column;
  gap: 1.2rem;
}

/* ==============================
   Inputs + labels flotantes
============================== */
.add-input-wrapper { position: relative; width: 100%; }

.add-label {
  position: absolute;
  top: .8rem; left: 1rem;
  font-size: .9rem;
  color: var(--text-secondary);
  pointer-events: none;
  transition: var(--transition-smooth);
  display: flex; align-items: center;
  background: transparent;
}

.add-input {
  width: 100%;
  padding: .85rem 1rem;
  font-size: .95rem;
  border-radius: var(--border-radius);
  border: 1px solid var(--border-color);
  background: rgb(255 255 255 / 0.9);
  transition: var(--transition-smooth);
  color: var(--text-primary);
}
.add-input:focus {
  outline: none;
  border-color: var(--border-focus);
  box-shadow: 0 0 0 3px rgb(59 130 246 / 0.25); /* sombra azul suave */
  background: #fff;
}

.add-input-highlight {
  position: absolute; bottom: 0; left: 0;
  width: 0; height: 2px;
  background: var(--gradient-accent);
  transition: var(--transition-smooth);
}
.add-input:focus ~ .add-input-highlight { width: 100%; }

.add-input-wrapper.has-value .add-label,
.add-input:focus ~ .add-label {
  transform: translateY(-1.35rem) scale(.85);
  background: linear-gradient(135deg, rgb(255 255 255 / .98) 0%, rgb(248 250 252 / .98) 100%);
  color: var(--primary-color);
  font-weight: 600;
  padding: 0 .4rem;
  left: .8rem;
}

/* Selects estilo "always-active" */
.add-input-wrapper.always-active .add-label {
  transform: translateY(-1.35rem) scale(.85);
  background: linear-gradient(135deg, rgb(255 255 255 / .98) 0%, rgb(248 250 252 / .98) 100%);
  color: var(--primary-color);
  font-weight: 700;
  padding: 0 .4rem;
  left: .8rem;
  z-index: 3;
}
.add-input-wrapper select.add-input {
  appearance: none;
  background-image: url("data:image/svg+xml;charset=UTF-8,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3e%3cpolyline points='6 9 12 15 18 9'%3e%3c/polyline%3e%3c/svg%3e");
  background-repeat: no-repeat;
  background-position: right .75rem center;
  background-size: 1rem;
  padding-right: 2.5rem;
  color: var(--text-primary);
}

/* Errores */
.add-error {
  position: absolute; bottom: -1.15rem; left: 0;
  font-size: .75rem; color: var(--danger-500);
  background: rgb(239 68 68 / .08);
  padding: .1rem .4rem;
  border-radius: 0 0 var(--border-radius) var(--border-radius);
}

/* Filas en grupo */
.add-group { display: flex; gap: 1rem; width: 100%; }
.add-group > .add-input-wrapper { flex: 1; }

/* ==============================
   Steps
============================== */
.progress-steps {
  display: flex; justify-content: space-between; position: relative;
  margin: 1rem 2rem .5rem;
}
.progress-step {
  display: flex; flex-direction: column; align-items: center; cursor: pointer; z-index: 2;
  transition: var(--transition-smooth);
}
.step-number {
  width: 2.5rem; height: 2.5rem; border-radius: 50%;
  background: var(--gray-200); color: var(--gray-700);
  display: flex; align-items: center; justify-content: center; font-weight: 700; margin-bottom: .4rem;
  transition: var(--transition-smooth);
  box-shadow: var(--shadow-sm);
}
.progress-step.active .step-number {
  background: var(--primary-color); color: var(--text-on-primary); transform: scale(1.1);
  box-shadow: 0 0 0 4px rgb(59 130 246 / .28);
}
.progress-step.completed .step-number { background: var(--success-500); color: #fff; }

.step-label { font-size: .82rem; color: var(--text-secondary); font-weight: 500; }
.progress-step.active .step-label { color: var(--primary-color); font-weight: 700; }

.progress-bar {
  position: absolute; top: 1.25rem; left: 0; width: 100%; height: 4px;
  background: var(--gray-200); z-index: 1; border-radius: var(--border-radius-full);
}
.progress-bar-fill {
  height: 100%;
  background: var(--gradient-accent);
  transition: width .4s ease;
  border-radius: var(--border-radius-full);
}

/* ==============================
   Botonera
============================== */
.add-alumno-buttons-container {
  display: flex; justify-content: space-between;
  padding: .5rem 2rem 1rem; position: sticky; bottom: 0; background: transparent;
}

.add-alumno-button {
  display: inline-flex; align-items: center; justify-content: center;
  gap: .5rem; padding: .75rem 1.5rem; font-size: .95rem; font-weight: 700;
  border-radius: var(--border-radius); cursor: pointer; transition: var(--transition-smooth);
  border: none; position: relative; overflow: hidden;
  background: var(--secondary-color);
  color: var(--text-on-primary); box-shadow: var(--shadow-md);
}
.add-alumno-button:hover:not(:disabled) { transform: translateY(-2px); box-shadow: var(--shadow-lg); }
.add-alumno-button:disabled { opacity: .7; cursor: not-allowed; }

.add-alumno-button.prev-step {
  background: var(--surface-secondary);
  color: var(--text-primary);
  border: 1px solid var(--border-color);
}
.add-alumno-button.prev-step:hover:not(:disabled) {
  background: var(--gray-200);
}

.add-alumno-button.next-step { margin-left: auto; }
.add-icon-button { font-size: .9rem; }

/* Texto adaptado en mÃ³vil para botones con data-mobile-label */
.add-alumno-button[data-mobile-label] .add-button-text { display: inline; }
.add-alumno-button[data-mobile-label]::after { content: ''; }

/* ==============================
   RESPONSIVE
============================== */
@media (max-width: 992px) {
  .add-alumno-container {
    width: 100vw;
    height: auto;
    min-height: 100vh;
    margin: 0;
    border-radius: 0;
    overflow-y: auto;
    overflow-x: hidden;
  }
  .add-alumno-box { width: 100%; height: auto; min-height: 100vh; border-radius: 0; }
  .add-alumno-form { overflow-y: auto; padding: .5rem 1rem 1.25rem; }
  .add-alumno-section { height: auto; padding: .75rem 1rem; }
  .add-alumno-section-title { font-size: 1rem; margin-bottom: .75rem; }
  .progress-steps { margin: .75rem 1rem .25rem; }
  .step-number { width: 2.25rem; height: 2.25rem; font-size: .9rem; }
  .add-alumno-buttons-container { padding: .5rem 1rem .75rem; }
}

@media (max-width: 768px) {
  .add-alumno-container {
    width: 100vw; min-height: 100vh;
    background: linear-gradient(135deg, var(--gray-200) 30%, var(--primary-500) 70%);
  }
  .add-header { padding: 2rem; border-radius: 0; }
  .add-icon { font-size: 1.5rem; }
  .add-icon-title h1 { font-size: 1.1rem; }
  .add-icon-title p { display: none; }
  .add-alumno-box { min-height: 100vh; }
  .add-alumno-form { height: 100vh; justify-content: space-between; }
  .add-alumno-section { padding: .75rem .75rem 1rem; }
  .add-input { padding: .75rem .9rem; font-size: .95rem; }
  .add-label { top: .7rem; left: .85rem; font-size: .85rem; }
  .add-group { flex-direction: column; gap: .9rem; }
  .add-input-wrapper { min-height: 54px; }
  .progress-steps { margin: .75rem .75rem .25rem; gap: .25rem; }
  .step-number { width: 2rem; height: 2rem; font-size: .85rem; }
  .step-label { font-size: .78rem; }
  .add-alumno-buttons-container { position: static; padding: .75rem 1rem 1rem; gap: .75rem; }
  .add-alumno-button { flex: 1 1 auto; min-height: 42px; padding: .7rem 1rem; font-size: .95rem; }
  .add-alumno-button.prev-step { order: 1; }
  .add-alumno-button.next-step,
  .add-alumno-button:not(.prev-step) { order: 2; }
  .add-alumno-button[data-mobile-label] .add-button-text { display: none; }
  .add-alumno-button[data-mobile-label]::after {
    content: attr(data-mobile-label);
    font-weight: 700;
    line-height: 1;
  }
}

@media (max-width: 576px) {
  .add-header { padding: 2rem; }
  .add-icon-title h1 { font-size: 1.05rem; }
  .add-back-btn { padding: .45rem .75rem; font-size: .9rem; }
  .add-alumno-section { padding: .65rem .5rem .9rem; }
  .add-input { padding: .7rem .85rem; font-size: .9rem; }
  .add-label { top: .6rem; left: .75rem; font-size: .82rem; }
  .add-input-wrapper.has-value .add-label,
  .add-input:focus ~ .add-label {
    transform: translateY(-1.2rem) scale(.84);
    left: .65rem;
  }
  .add-alumno-buttons-container { padding: .6rem .75rem 1rem; }
  .add-alumno-button { width: 100%; }
}

@media (max-width: 380px) {
  .add-input { padding: .65rem .75rem; font-size: .88rem; }
  .step-label { display: none; }
}
/* ==============================
   Textarea (Observaciones)
============================== */
.add-input-wrapper textarea.add-textarea{
  width: 100%;
  min-height: 110px; 
  max-height: 115px;             /* altura cÃ³moda */
  padding: .85rem 1rem;           /* mismo padding que los inputs */
  font-size: .95rem;
  line-height: 1.4;
  color: var(--text-primary);
  background: rgb(255 255 255 / 0.9);
  border: 1px solid var(--border-color);
  border-radius: var(--border-radius);
  transition: var(--transition-smooth);
  resize: vertical;               /* solo vertical */
}

.add-input-wrapper textarea.add-textarea:focus{
  outline: none;
  background: #fff;
  border-color: var(--border-focus);
  box-shadow: 0 0 0 3px rgb(59 130 246 / 0.25); /* halo suave como los inputs */
}

/* Placeholder mÃ¡s suave */
.add-input-wrapper textarea.add-textarea::placeholder{
  color: var(--text-secondary);
  opacity: .65;
}
.add-input-wrapper textarea.add-textarea:focus::placeholder{
  opacity: .4;
}

/* Chip/etiqueta flotante encima del borde SOLO para el textarea */
.add-input-wrapper.always-active:has(textarea.add-textarea) .add-label{
  /* levanta la etiqueta y la hace "chip" */
  transform: translateY(-1.35rem) scale(.85);
  left: .8rem;
  z-index: 2;
  background: #fff;                     /* fondo sÃ³lido para que se lea */
  padding: 0 .45rem;
  font-weight: 700;
  color: var(--primary-color);
  /* dibuja el pequeÃ±o recorte del borde para que no se "corte" la etiqueta */
  border-left: 1px solid var(--border-color);
  border-right: 1px solid var(--border-color);
}

/* Ajuste fino en pantallas chicas */
@media (max-width: 576px){
  .add-input-wrapper.always-active:has(textarea.add-textarea) .add-label{
    transform: translateY(-1.2rem) scale(.84);
    left: .65rem;
  }
}
.add-group > .add-input-wrapper { min-width: 0; }
/* === Botones primarios (Siguiente / Guardar) en ROJO === */
.add-alumno-button:not(.prev-step) {
  background: var(--danger-600);           /* rojo */
  border: 1px solid var(--danger-600);
  color: #fff;
}

/* Hover: blanco con borde rojo y texto rojo */
.add-alumno-button:not(.prev-step):hover:not(:disabled) {
  background: #fff;
  color: var(--danger-600);
  border-color: var(--danger-600);
  transform: translateY(-2px);             /* mantiene el efecto */
  box-shadow: var(--shadow-lg);
}

/* Focus ring rojo */
.add-alumno-button:not(.prev-step):focus {
  outline: none;
  box-shadow: 0 0 0 3px rgba(220, 38, 38, 0.25); /* 220,38,38 ~ var(--danger-600) */
}

/* Deshabilitado: rojo atenuado */
.add-alumno-button:not(.prev-step):disabled {
  background: var(--danger-400);
  border-color: var(--danger-400);
  color: #fff;
  opacity: .75;
  cursor: not-allowed;
}
